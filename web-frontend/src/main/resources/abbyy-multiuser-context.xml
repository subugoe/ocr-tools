<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">

	<bean id="OCREngineFactory" name="OCREngineFactory"
		class="de.uni_goettingen.sub.commons.ocr.api.OCREngineFactory"
		factory-method="getInstance"  scope="prototype">
		<property name="engine" ref="multiAbbyyServerOCREngine" />
	</bean>

	<bean id="multiAbbyyServerOCREngine" name="multiAbbyyServerOCREngine"
		class="de.uni_goettingen.sub.commons.ocr.abbyy.server.multiuser.MultiUserAbbyyOCREngine"
		factory-method="newOCREngine"  scope="prototype">
	</bean>

    <bean id="exporter" class="org.springframework.jmx.export.MBeanExporter" lazy-init="false"  scope="prototype">
        <property name="beans">
            <map>
                <entry key="Abbyy:name=MultiUserAbbyyOCREngine" value-ref="multiAbbyyServerOCREngine"/>
            </map>
        </property>
    	<property name="assembler">
      		<bean class="org.springframework.jmx.export.assembler.MethodNameBasedMBeanInfoAssembler">
        		<property name="managedMethods">
          			<value>getWaitingProcesses,getWaitingProcessesCount,getRunningProcessesCount,removeWaitingProcesses,removeAllProcesses</value>
        		</property>
      		</bean>
    	</property>

    </bean>


</beans>